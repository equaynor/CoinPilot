{% extends 'base.html' %}

{% block content %}
<h2>Portfolio: {{ portfolio.name }}</h2>

<!-- Modal for success messages -->
<div id="successModal" class="modal">
  <div class="modal-content">
    <p id="successMessage"></p>
  </div>
</div>

<div class="button-container">
  <form action="{% url 'add_trade' portfolio_id=portfolio.id %}" method="get">
    <button type="submit" class="btn btn-primary">Add Trade</button>
  </form>

  <form action="{% url 'coin_list' %}" method="get">
    <button type="submit" class="btn btn-secondary">View Cryptos</button>
  </form>
</div>

<!-- Add any additional portfolio details or sections here -->

{% endblock %}

{% block javascript %}
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Check if there are any success messages
      {% if messages %}
        {% for message in messages %}
          {% if message.tags == 'success' %}
            // Display the success message in the modal
            document.getElementById('successMessage').textContent = '{{ message }}';
            document.getElementById('successModal').style.display = 'block';

            // Close the modal after 2 seconds
            setTimeout(function() {
              document.getElementById('successModal').style.display = 'none';
            }, 2000);
          {% endif %}
        {% endfor %}
      {% endif %}
    });
  </script>
{% endblock %}